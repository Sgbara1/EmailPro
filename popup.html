<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>AI Email Reply Generator</title>
  <link href="styles.css" rel="stylesheet">
</head>
<body>
  <div class="app-container">
    <header class="app-header">
      <img src="icons/icon48.png" alt="Logo" class="app-logo">
      <h1>AI Email Reply</h1>
    </header>

    <main class="main-content">
      <div class="email-status">
        <div class="status-indicator" id="gmailStatus">
          <span class="status-dot"></span>
          <span class="status-text">Connecting to Gmail...</span>
        </div>
      </div>

      <div class="compose-section">
        <div class="tone-selector">
          <label for="tone">Reply Tone:</label>
          <select id="tone" class="select-styled">
            <option value="professional">💼 Professional</option>
            <option value="friendly">😊 Friendly</option>
            <option value="formal">👔 Formal</option>
            <option value="casual">👋 Casual</option>
          </select>
        </div>

        <div class="context-input">
          <label for="context">Additional Context:</label>
          <textarea 
            id="context" 
            placeholder="Add custom notes or context for the AI..."
            class="textarea-styled"
          ></textarea>
        </div>

        <div class="actions">
          <button id="generateReply" class="button primary">
            <span class="button-icon">✨</span>
            Generate Reply
          </button>
          <button id="sendReply" class="button secondary" disabled>
            <span class="button-icon">📤</span>
            Send Reply
          </button>
        </div>

        <div id="status" class="status-message"></div>
      </div>
    </main>

    <div class="settings-panel">
      <div class="settings-header">
        <h3>⚙️ Settings</h3>
        <button id="toggleSettings" class="button-icon">▼</button>
      </div>
      
      <div class="settings-content" id="settingsContent">
        <div class="api-key-section">
          <label for="apiKey">OpenAI API Key:</label>
          <div class="api-key-input">
            <input 
              type="password" 
              id="apiKey" 
              class="input-styled"
              placeholder="Enter your OpenAI API key"
            >
            <button id="toggleApiKey" class="button-icon">👁️</button>
          </div>
        </div>
        
        <div class="gmail-auth-section">
          <button id="connectGmail" class="button secondary">
            <span class="button-icon">🔄</span>
            Reconnect to Gmail
          </button>
        </div>

        <button id="saveSettings" class="button primary">Save Settings</button>
        <div id="settingsStatus" class="status-message"></div>
      </div>
    </div>
  </div>
  <script type="module" src="popup.js"></script>
</body>
</html>